# Java后端启动说明

## ⚠️ 重要：配置OpenAI API Key

在使用AI聊天功能之前，**必须配置OpenAI API Key**！

### 方式一：环境变量（推荐）

```bash
export OPENAI_API_KEY=your_api_key_here
```

### 方式二：配置文件

编辑 `src/main/resources/application.yml`：

```yaml
openai:
  api:
    key: your_api_key_here  # 在这里填入你的API Key
```

## 启动步骤

1. **确保已安装Java 17+和Maven**

2. **配置API Key**（使用上述方式之一）

3. **启动服务**：
   ```bash
   cd GeneAI-Java
   mvn spring-boot:run
   ```

4. **验证服务**：
   - 服务默认运行在 `http://localhost:3000`
   - 访问 `http://localhost:3000/health` 检查服务状态

## 常见问题

### 问题1：AI不回复或报错

**原因**：未配置API Key或API Key无效

**解决**：
1. 检查环境变量或配置文件中的API Key
2. 确保API Key有效且有足够的额度
3. 查看控制台错误信息

### 问题2：无法连接到后端

**原因**：后端服务未启动

**解决**：
1. 确保Java后端正在运行（端口3000）
2. 检查前端配置的BASE_URL是否正确
3. 查看后端控制台是否有错误

### 问题3：请求超时

**原因**：OpenAI API响应慢或网络问题

**解决**：
1. 检查网络连接
2. 等待更长时间（AI回复可能需要10-30秒）
3. 检查OpenAI服务状态

## 测试API Key

可以使用curl测试：

```bash
curl -X POST http://localhost:3000/api/ai/chat/messages \
  -H "Content-Type: application/json" \
  -d '{"message": "你好"}'
```

如果返回AI回复，说明配置成功！




"use strict";const t=require("../../common/vendor.js"),d={data(){return{records:[]}},onLoad(){this.loadRecords()},methods:{loadRecords(){try{const e=t.index.getStorageSync("targetRecords");e&&(this.records=JSON.parse(e)||[])}catch(e){console.error("加载记录失败:",e)}},deleteRecord(e){t.index.showModal({title:"确认删除",content:"确定要删除这条记录吗？",success:r=>{if(r.confirm){this.records=this.records.filter(s=>s.id!==e);try{t.index.setStorageSync("targetRecords",JSON.stringify(this.records)),t.index.showToast({title:"删除成功",icon:"success"})}catch(s){console.error("保存失败:",s)}}}})},formatDate(e){const r=new Date(e),s=r.getMonth()+1,a=r.getDate(),n=r.getHours(),c=r.getMinutes();return`${s}月${a}日 ${n.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},formatTime(e){const r=Math.floor(e/1e3),s=Math.floor(r/60),a=r%60;return`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},goBack(){t.index.navigateBack()}}};function g(e,r,s,a,n,c){return t.e({a:t.o((...o)=>c.goBack&&c.goBack(...o)),b:n.records.length===0},n.records.length===0?{}:{},{c:t.f(n.records,(o,i,f)=>({a:t.t(i+1),b:t.t(o.level),c:t.t(o.times),d:t.t(o.points),e:t.t(c.formatDate(o.date)),f:t.t(o.formattedTime||c.formatTime(o.duration)),g:t.o(m=>c.deleteRecord(o.id),o.id),h:o.id,i:i===0?1:""}))})}const h=t._export_sfc(d,[["render",g],["__scopeId","data-v-63b12592"]]);wx.createPage(h);
